<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"/>
    <title>提醒类别-新增</title>
    <link rel="stylesheet" type="text/css" href="/static/admin/layui/css/layui.css"/>
    <link rel="stylesheet" type="text/css" href="/static/admin/css/admin.css"/>

    <script src="/static/admin/js/jquery-3.3.1.min.js"></script>
    <!--[if IE 8]>
    <script type="text/javascript" src="/static/admin/js/jquery-1.11.3.min.js"></script>
    <![endif]-->
    <script src="/static/admin/js/basic.js"></script>
    <style type="text/css">
        .layui-form-item{
            margin-top:30px;
        }

        .layui-form-label{
            width:160px;
            padding:8px 5px!important;
        }
        .warm_btn {
            height: 45px;
            font-size: 1.3em;
            letter-spacing: 3px;
            margin: 10px 0 30px;
        }
    </style>
</head>
<body>

<div class="layui-row">
    <form class="layui-form layui-form-pane" >
        <div class="layui-row">
            <div class="col-xs-12">
                <div class="layui-form-item">
                    <label class="layui-form-label">类别名称<span class="sign">*</span></label>
                    <div class="layui-input-block">
                        <input type="text" name="lbmc" class="layui-input" aotocomplete="off" placeholder="计量提醒">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">提醒角色<span class="sign">*</span></label>
                    <div class="layui-input-block">
                        <select name="roleId" lay-filter ="roleList">
                        </select>
                    </div>
                </div>
                <div class="layui-form-item layui-form-text">
                    <label class="layui-form-label">提醒信息<span class="sign">*</span></label>
                    <div class="layui-input-block">
                        <textarea class="layui-textarea" name="txxx" placeholder="设备计量计划到期"></textarea>
                    </div>
                </div>
            </div>
            <div class="col-xs-12">
                <button class="layui-btn  layui-btn-fluid" lay-filter="submit" lay-submit="">保存</button>
            </div>
        </div>
    </form>
</div>




<script>

    formData={};
    renderMod={
        form:{
            submit:{
                filter:"submit",//可以不写
                form:{
                    url:"/xttx/addTxlb",
                    type:"POST",
                    contentType:"application/json",
                    data:["roleId","txxx","lbmc"],
                    reload:true
                    /*      success:function(){
                              alert("xx");
                          }*/
                }//表单提交函数
                /*           before:function(data){
                               for(var i=0;i<data.field.length;i++){
                                   if(data.field[i] === ""){
                                       layer.alert("请确认您填写的信息！");
                               return false;
                                   }
                               }
                           },*///表单提交前执行函数
                /*    func:function(data){
                        n++;
                        layer.alert("您已提交 " + n + " 次！");
                    }*///表单提交后执行函数（不论成功与否）
            },

            val: {
                filter:"111",
                select: [
                    {
                        filter:"roleList",
                        ids: "roleId",
                        text: "roleName",
                        url: "/role/listRoleNoLimit"
                    }
                ]
            }
        }



    }
   /* renderMod = {
        form:{
            submit:{
                before: function (param) {
                    var cs = getTableValue("table"), gn = getTableValue("table1", [true]);
                    console.log(formData);
                    if (doJudg({
                        0: [cs, gn]
                    })) {
                        putMsg({
                            alert: "请选择数据后提交！",
                            log: [formData, cs, gn]
                        });
                        return false;
                    }
                    var bm = "";
                    if (formData.radio){
                        bm = formData.radio[0]["tgBmId"]
                    }
                    return param = {
                        1: bm,
                        2: cs,
                        3: gn
                    };
                },
                form: {
                    url: "",
                    type: "POST",
                    data: [],
                    contentType: "application/json",
                    param: {

                    }
                }
            }
        }
    }*/
</script>
</body>
</html>
