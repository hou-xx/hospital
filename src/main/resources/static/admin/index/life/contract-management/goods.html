<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8">
    <title>到货登记</title>
    <link rel="stylesheet" type="text/css" href="/static/admin/layui/css/layui.css">
    <link rel="stylesheet" type="text/css" href="/static/admin/css/admin.css">
    <script type="text/javascript" src="/static/admin/js/jquery-3.3.1.min.js"></script>
    <!--[if IE 8]>
    <script type="text/javascript" src="/static/admin/js/jquery-1.11.3.min.js"></script>
    <![endif]-->
    <script type="text/javascript" src="/static/admin/js/basic.js"></script>

    <style>
        .layui-form-label {
            width: 180px !important;
        }

        .layui-input-block {
            margin-left: 180px !important;
        }

        .layui-form-text .layui-form-label {
            width: 100% !important;
        }

        .layui-form-text .layui-input-block {
            margin-left: 0 !important;
        }
    </style>
</head>

<body>


<div class="layui-collapse">
    <form class="layui-form layui-form-pane" action="">
        <div class="layui-colla-item">
            <h2 class="layui-colla-title"><b>到货登记</b></h2>
            <div class="layui-colla-content layui-show">
                <!--内容1-->
                <!--            <form class="layui-form layui-form-pane" action="">-->

                <div class="layui-container">
                    <div class="layui-row layui-col-space20">
                        <!--布局1-->
                        <div class="layui-col-md6">
                            <!--                            收货单位-->
                            <div class="layui-form-item" style="margin-top: 10px">
                                <label class="layui-form-label">收货单位<span class="sign">*</span></label>
                                <div class="layui-input-block">
                                    <input type="text" name="dhdjShdw" lay-verify="required"
                                           placeholder="请输入内容"
                                           onfocus="this.placeholder=''"
                                           onblur="this.placeholder='请输入内容'"
                                           autocomplete="off" class="layui-input">
                                </div>
                            </div>
                            <!--                            收货人-->
                            <div class="layui-form-item">
                                <label class="layui-form-label">收货人<span class="sign">*</span></label>
                                <div class="layui-input-block">
                                    <input type="text" name="dhdjShr" lay-verify="required" placeholder="请输入内容"
                                           onfocus="this.placeholder=''"
                                           onblur="this.placeholder='请输入内容'"
                                           autocomplete="off" class="layui-input">
                                </div>
                            </div>
                            <!--                            收货人电话-->
                            <div class="layui-form-item">
                                <label class="layui-form-label">收货人电话</label>
                                <div class="layui-input-block">
                                    <input type="text" name="dhdjShrdh" lay-verify="required|number"
                                           placeholder="请输入内容"
                                           onfocus="this.placeholder=''"
                                           onblur="this.placeholder='请输入内容'"
                                           autocomplete="off" class="layui-input">
                                </div>
                            </div>
                            <!--                            目的地-->
                            <div class="layui-form-item">
                                <label class="layui-form-label">目的地<span class="sign">*</span></label>
                                <div class="layui-input-block">
                                    <input type="text" name="dhdjMdd" lay-verify="required" placeholder="请输入内容"
                                           onfocus="this.placeholder=''"
                                           onblur="this.placeholder='请输入内容'"
                                           autocomplete="off" class="layui-input">
                                </div>
                            </div>
                            <!--                            收货人详细地址-->
                            <div class="layui-form-item layui-form-text">
                                <label class="layui-form-label">收货人详细地址<span class="sign">*</span></label>
                                <div class="layui-input-block">
                                    <textarea name="dhdjShxxdz" placeholder="请输入内容"
                                              onfocus="this.placeholder=''"
                                              onblur="this.placeholder='请输入内容'" class="layui-textarea"></textarea>
                                </div>
                            </div>
                            <!--                            到货时间-->
                            <div class="layui-form-item">
                                <label class="layui-form-label">到货时间<span class="sign">*</span></label>
                                <div class="layui-inline"> <!-- 注意：这一层元素并不是必须的 -->
                                    <input name="dhsj" type="text" class="layui-input" id="test1" placeholder="请选择日期">
                                </div>
                            </div>
                            <!--                            搬家公司-->
                            <div class="layui-form-item">
                                <label class="layui-form-label">搬家公司<span class="sign">*</span></label>
                                <div class="layui-input-block">
                                    <input type="text" name="dhdjBjgs" lay-verify="required"
                                           placeholder="请输入内容"
                                           onfocus="this.placeholder=''"
                                           onblur="this.placeholder='请输入内容'"
                                           autocomplete="off" class="layui-input">
                                </div>
                            </div>
                            <!--                            搬运费用-->
                            <div class="layui-form-item">
                                <label class="layui-form-label">搬运费用<span class="sign">*</span></label>
                                <div class="layui-input-block">
                                    <input type="text" name="dhdjByfy" lay-verify="required|number"
                                           placeholder="请输入内容"
                                           onfocus="this.placeholder=''"
                                           onblur="this.placeholder='请输入内容'"
                                           autocomplete="off" class="layui-input">
                                </div>
                            </div>
                            <!--                            接收人-->
                            <label class="layui-form-label">接收人<span class="sign">*</span></label>
                            <div class="layui-input-block">
                                <input type="text" name="dhdjJsr" lay-verify="required" placeholder="请输入内容"
                                       onfocus="this.placeholder=''"
                                       onblur="this.placeholder='请输入内容'"
                                       autocomplete="off" class="layui-input">
                            </div>

                        </div>
                        <!--布局2-->
                        <div class="layui-col-md6">
                            <!--                            发货单位-->
                            <div class="layui-form-item" style="margin-top: 10px">
                                <label class="layui-form-label">发货单位<span class="sign">*</span></label>
                                <div class="layui-input-block">
                                    <input type="text" name="dhdjFhdw" lay-verify="required"
                                           placeholder="请输入内容"
                                           onfocus="this.placeholder=''"
                                           onblur="this.placeholder='请输入内容'"
                                           autocomplete="off" class="layui-input">
                                </div>
                            </div>
                            <!--                            发货人-->
                            <div class="layui-form-item">
                                <label class="layui-form-label">发货人<span class="sign">*</span></label>
                                <div class="layui-input-block">
                                    <input type="text" name="dhdjFhr" lay-verify="required" placeholder="请输入内容"
                                           onfocus="this.placeholder=''"
                                           onblur="this.placeholder='请输入内容'"
                                           autocomplete="off" class="layui-input">
                                </div>
                            </div>
                            <!--                            发货人电话-->
                            <div class="layui-form-item">
                                <label class="layui-form-label">发货人电话</label>
                                <div class="layui-input-block">
                                    <input type="text" name="dhdjFhrdh" lay-verify="required|number"
                                           placeholder="请输入内容"
                                           onfocus="this.placeholder=''"
                                           onblur="this.placeholder='请输入内容'"
                                           autocomplete="off" class="layui-input">
                                </div>
                            </div>
                            <!--                            发货地-->
                            <div class="layui-form-item">
                                <label class="layui-form-label">发货地<span class="sign">*</span></label>
                                <div class="layui-input-block">
                                    <input type="text" name="dhdjFhd" lay-verify="required" placeholder="请输入内容"
                                           onfocus="this.placeholder=''"
                                           onblur="this.placeholder='请输入内容'"
                                           autocomplete="off" class="layui-input">
                                </div>
                            </div>
                            <!--                            发货人详细地址-->
                            <div class="layui-form-item layui-form-text">
                                <label class="layui-form-label">发货人详细地址<span class="sign">*</span></label>
                                <div class="layui-input-block">
                                    <textarea name="dhdjFhxxdz" placeholder="请输入内容"
                                              onfocus="this.placeholder=''"
                                              onblur="this.placeholder='请输入内容'" class="layui-textarea"></textarea>
                                </div>
                            </div>
                            <!--                            物流公司-->
                            <div class="layui-form-item">
                                <label class="layui-form-label">物流公司<span class="sign">*</span></label>
                                <div class="layui-input-block">
                                    <input type="text" name="dhdjWlgs" lay-verify="required"
                                           placeholder="请输入内容"
                                           onfocus="this.placeholder=''"
                                           onblur="this.placeholder='请输入内容'"
                                           autocomplete="off" class="layui-input">
                                </div>
                            </div>
                            <!--                            运输单号-->
                            <div class="layui-form-item">
                                <label class="layui-form-label">运输单号<span class="sign">*</span></label>
                                <div class="layui-input-block">
                                    <input type="text" name="dhdjYsdh" lay-verify="required|number"
                                           placeholder="请输入内容"
                                           onfocus="this.placeholder=''"
                                           onblur="this.placeholder='请输入内容'"
                                           autocomplete="off" class="layui-input">
                                </div>
                            </div>
                            <!--                            存放地点-->
                            <div class="layui-form-item">
                                <label class="layui-form-label">存放地点<span class="sign">*</span></label>
                                <div class="layui-input-block">
                                    <input type="text" name="dhdjCfdd" lay-verify="required"
                                           placeholder="请输入内容"
                                           onfocus="this.placeholder=''"
                                           onblur="this.placeholder='请输入内容'"
                                           autocomplete="off" class="layui-input">
                                </div>
                            </div>
                            <!--                            运输方式-->
                            <div class="layui-form-item">
                                <label class="layui-form-label">运输方式<span class="sign">*</span></label>
                                <div class="layui-input-block">
                                    <input type="radio" name="dhdjYsfs" value="0" title="空运" checked>
                                    <input type="radio" name="dhdjYsfs" value="1" title="铁运">
                                    <input type="radio" name="dhdjYsfs" value="2" title="海运">
                                    <input type="radio" name="dhdjYsfs" value="3" title="汽运">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--            </form>-->
            </div>
        </div>

        <div class="layui-colla-item">
            <h2 class="layui-colla-title"><b>货物信息</b></h2>
            <div class="layui-colla-content layui-show">
                <!--内容2-->
                <!--            <form class="layui-form layui-form-pane" action="">-->

                <div class="layui-container">

                    <div class="layui-row layui-col-space20">

                        <!--布局1-->
                        <div class="layui-col-md6">

                            <!--                            合同编号-->
                            <div class="layui-form-item" style="margin-top: 10px">
                                <label class="layui-form-label">合同编号<span class="sign">*</span></label>
                                <div class="layui-input-block">
                                    <select id="iden1" name="htId" lay-filter="matching" lay-verify="required">
                                        <option></option>
                                    </select>
                                </div>
                            </div>
                            <!--                            发货箱数-->
                            <div class="layui-form-item">
                                <label class="layui-form-label">发货箱数<span class="sign">*</span></label>
                                <div class="layui-input-block">
                                    <input type="text" name="dhdjFhxs" lay-verify="required|number"
                                           placeholder="请输入内容"
                                           onfocus="this.placeholder=''"
                                           onblur="this.placeholder='请输入内容'" autocomplete="off" class="layui-input">
                                </div>
                            </div>
                            <!--                            实到箱数-->
                            <div class="layui-form-item">
                                <label class="layui-form-label">实到箱数<span class="sign">*</span></label>
                                <div class="layui-input-block">
                                    <input type="text" name="dhdjSdxs" lay-verify="required|number"
                                           placeholder="请输入内容"
                                           onfocus="this.placeholder=''"
                                           onblur="this.placeholder='请输入内容'"
                                           autocomplete="off" class="layui-input">
                                </div>
                            </div>
                            <!--                            残损箱数-->
                            <div class="layui-form-item">
                                <label class="layui-form-label">残损箱数<span class="sign">*</span></label>
                                <div class="layui-input-block">
                                    <input type="text" name="dhdjCsxs" lay-verify="required|number"
                                           placeholder="请输入内容"
                                           onfocus="this.placeholder=''"
                                           onblur="this.placeholder='请输入内容'"
                                           autocomplete="off"
                                           autocomplete="off" class="layui-input">
                                </div>
                            </div>
                        </div>
                        <!--布局2-->
                        <div class="layui-col-md6">
                            <!--                            本合同是否全部到货-->
                            <div class="layui-form-item " style="margin-top: 20px">
                                <label class="layui-form-label" style="width: auto">本合同是否全部到货<span class="sign">*</span></label>
                                <div class="layui-input-block">
                                    <input type="radio" name="dhdjIsqbdh" value="1" title="是" checked>
                                    <input type="radio" name="dhdjIsqbdh" value="0" title="否">
                                </div>
                            </div>
                            <!--                            备注-->
                            <div class="layui-form-item layui-form-text" style="margin-top: 10px">
                                <label class="layui-form-label">备注</label>
                                <div class="layui-input-block">
                                    <textarea name="dhdjBz" placeholder="请输入内容"
                                              onfocus="this.placeholder=''"
                                              onblur="this.placeholder='请输入内容'"
                                              autocomplete="off" class="layui-textarea"></textarea>
                                </div>
                            </div>


                        </div>
                        <!--                        货物信息-->
                        <div class="layui-form-item" pane style="margin-bottom:-10px;">
                            <label class="layui-form-label ">货物信息<span class="sign">*</span></label>
                            <div class="layui-input-block">
                                <button class="layui-btn layui-btn-normal layui-btn-sm addNew addi" data-id="table"
                                        id="dataTable1"><i class="fas fa-plus"></i>&nbsp;新增
                                </button>
                                <button class="layui-btn layui-btn-danger layui-btn-sm delNew deli" data-id="table">
                                    <i class="fas fa-trash-alt"></i>&nbsp;删除
                                </button>
                            </div>
                        </div>
                        <table id="table" lay-filter="table"></table>

                    </div>
                </div>
                <!--                                        保存-->
                <div class="col-xs-12">
                    <div class="layui-form-item">
                        <button class="layui-btn" style="float: right;margin-right:5%;margin-top:10px" lay-submit="" lay-filter="save">保存
                        </button>
                    </div>
                </div>
                <!--            </form>-->
            </div>
        </div>
    </form>
</div>


<script>

    layui.use('form', function () {
        var form = layui.form;
    });
    layui.use('laydate', function () {
        var laydate = layui.laydate;
        laydate.render({elem: '#test1'});
    });
    layui.use('element', function () {
        var element = layui.element;
    });
    var formData = {};
    var formData2 = {};
    renderMod = {
        form: {
            date: {
                elem: "#date"
            },
            submit: {
                before: function (param) {
                    var tv = getTableValue("table");
                    return param = {1: tv};
                },
                form: {
                    url: "/lifeManage/insertSgDhdj",
                    type: "POST",
                    data: [
                        "dhdjShdw", "dhdjFhdw", "dhdjShr", "dhdjFhr", "dhdjShrdh", "dhdjFhrdh", "dhdjMdd", "dhdjFhd", "dhdjShxxdz", "dhdjFhxxdz",
                        "dhsj", "dhdjWlgs", "dhdjBjgs", "dhdjYsdh", "dhdjByfy", "dhdjJsr", "dhdjCfdd", "htId", "dhdjFhxs", "dhdjSdxs", "dhdjCsxs",
                        "dhdjBz", "dhdjYsfs", "dhdjIsqbdh"
                    ],
                    contentType: "application/json",
                    param: {1: 'sgDjhws'},
                    reload: "parent"
                }
            },
            val: {
                select: [
                    {
                        filter: "matching",
                        ids: "htId",
                        text: "htid",
                        url: "/lifeManage/selectHtBianhao"
                    }
                ]
            }
        },
        addTable: {
            table: [
                {
                    elem: "#table",
                    cols: [[ //表头
                        {type: "checkbox"}
                        , {field: 'djhwXnsb', title: '货物名称',}
                        , {
                            field: 'djhwBz',
                            templet: function (d) {
                                if (d.djhwBz == '0')
                                    return '木箱';
                                else if (d.djhwBz == '1')
                                    return '纸箱';
                            },
                            title: '包装'
                        }
                        , {field: 'djhwGgxh', title: '规格型号'}
                        , {field: 'djhwSl', title: '数量'}
                        , {field: 'djhwZl', title: '重量(kg)'}
                        , {field: 'djhwTj', title: '体积(m³)'}
                        , {field: 'djhwHwjz', title: '货物价值'}
                    ]]
                    , toolbar: false
                    , page: false
                    , height: "200"
                    , data: []
                    , text: {
                        none: "请点击上方按钮添加数据！"
                    }
                }
            ]
        },
        bind: {


            addItem: [
                {
                    elem: "#dataTable1",
                    base: "./child/goods-add.html",
                    name: "dtdt",
                    key: "date"
                }
            ],
            delItem: ".delNew"
        }
    }

</script>


</body>

</html>