<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"/>
    <title>参数设置</title>
    <link rel="stylesheet" type="text/css" href="/static/admin/layui/css/layui.css"/>
    <link rel="stylesheet" type="text/css" href="/static/admin/css/admin.css"/>

    <script src="/static/admin/js/jquery-3.3.1.min.js"></script>
    <!--[if IE 8]>
    <script type="text/javascript" src="/static/admin/js/jquery-1.11.3.min.js"></script>
    <![endif]-->
    <script src="/static/admin/js/basic.js"></script>
    <style>
        .layui-form-item{
            margin-top:35px
        }
        .layui-form-label{
            width:130px;
            padding:8px 10px!important;
        }
    </style>
</head>

<body>
<form class="layui-form layui-form-pane" action="" lay-filter="forms">
    <div class="col-xs-12 col-sm-6 ">
        <div class="layui-form-item col-sm-12">
            <label class="layui-form-label">资产编号</label>
            <div class="layui-input-block">
                <input type="hidden" name="deviceCode" id="deviceCode" class="layui-input col-sm-10" autocomplete="off">
                <input type="hidden" name="eqId"  id="eqId" class="layui-input col-sm-10" autocomplete="off"  readonly>
                <button class="layui-btn col-sm-2" id="selectEmp" style="margin: 0">选择</button>
            </div>
        </div>


        <div class="layui-form-item col-sm-12">
            <label class="layui-form-label">工作模式</label>
            <div class="layui-input-block"  >
                <select name="inspectType" lay-verify="required" lay-search="" >
                    <option selected>电流</option>
                    <option >距离</option>
                    <option >图像</option>
                    <option >重量</option>
                    <option >光电</option>
                </select>
            </div>
        </div>


        <div class="layui-form-item col-sm-12">
            <label class="layui-form-label">启动电流</label>
            <div class="layui-input-block">
                <input type="text" name="startElectic" class="layui-input col-sm-10" autocomplete="off"  >
                <input type="text" disabled class="layui-input col-sm-2" placeholder="秒" >
            </div>
        </div>

        <div class="layui-form-item col-sm-12">
            <label class="layui-form-label">接近距离</label>
            <div class="layui-input-block">
                <input type="text" name="inDistance" class="layui-input col-sm-10" autocomplete="off"  >
                <input type="text" disabled class="layui-input col-sm-2" placeholder="厘米" >
            </div>
        </div>

        <div class="layui-form-item col-sm-12">
            <label class="layui-form-label">图像启动</label>
            <div class="layui-input-block">
                <input type="text" name="imageStart" class="layui-input col-sm-10" autocomplete="off"  >
                <input type="text" disabled class="layui-input col-sm-2" placeholder="流明" >
            </div>
        </div>

        <div class="layui-form-item col-sm-12">
            <label class="layui-form-label">重量启动</label>
            <div class="layui-input-block">
                <input type="text" name="weightStart" class="layui-input col-sm-10" autocomplete="off"  >
                <input type="text" disabled class="layui-input col-sm-2" placeholder="千克" >
            </div>
        </div>
        <div class="layui-form-item col-sm-12">
            <label class="layui-form-label">光电计数比例</label>
            <div class="layui-input-block">
                <input type="text" name="pECounting" class="layui-input col-sm-10" autocomplete="off"  >
                <input type="text" disabled class="layui-input col-sm-2" placeholder="%" >
            </div>
        </div>
        <div class="layui-form-item col-sm-12">
            <label class="layui-form-label">心跳包间隔</label>
            <div class="layui-input-block">
                <input type="text" name="heartTime" class="layui-input col-sm-10" autocomplete="off"  >
                <input type="text" disabled class="layui-input col-sm-2" placeholder="秒" >
            </div>
        </div>
        <div class="layui-form-item col-sm-12">
            <label class="layui-form-label">维修预警时长</label>
            <div class="layui-input-block">
                <input type="text" name="repairRemind" class="layui-input col-sm-10" autocomplete="off"  >
                <input type="text" disabled class="layui-input col-sm-2" placeholder="小时" >
            </div>
        </div>
        <div class="layui-form-item col-sm-12">
            <label class="layui-form-label">待机功率</label>
            <div class="layui-input-block">
                <input type="text" name="waitPower" class="layui-input col-sm-10" autocomplete="off"  >
                <input type="text" disabled class="layui-input col-sm-2" placeholder="千瓦" >
            </div>
        </div>
        <div class="layui-form-item col-sm-12">
            <label class="layui-form-label">用电电压</label>
            <div class="layui-input-block">
                <input type="text" name="voltage" class="layui-input col-sm-10" autocomplete="off"  >
                <input type="text" disabled class="layui-input col-sm-2" placeholder="秒" >

            </div>

        </div>
        <div class="layui-form-item col-sm-12">
            <label class="layui-form-label">预警范围</label>

            <div class="layui-input-block">
                <input type="text" name="maxCurrent" class="layui-input col-sm-6" autocomplete="off"   placeholder="请输入开始范围">
                <!--                    <div class="col-sm-2" style="text-align: center;font-size: 18px">~</div>-->
                <input type="text" name="minCurrent" class="layui-input col-sm-6" autocomplete="off"   placeholder="请输入结束范围">
            </div>
        </div>
        <div class="layui-form-item col-sm-12">
            <label class="layui-form-label">保养状态</label>
            <div class="layui-input-block"  >
                <select name="maintainStatus" lay-verify="required" lay-search="" >
                    <option >正常</option>
                    <option >保养</option>
                    <option >维护</option>

                </select>
            </div>
        </div>
    </div>

    <div class="col-xs-12 col-sm-6 ">

        <div class="layui-form-item col-sm-12 ">
            <input type="text" name="machineNumber" id="machineNumber" style="color: #FFFFFF;border: 0;background-color: #ffffff" disabled class="layui-input-block">
        </div>
        <div class="layui-form-item col-sm-12">
            <label class="layui-form-label">保持时间</label>
            <div class="layui-input-block">
                <input type="text" name="keepTime" class="layui-input col-sm-10" autocomplete="off"  >
                <input type="text" disabled class="layui-input col-sm-2" placeholder="秒" >
            </div>

        </div>
        <div class="layui-form-item col-sm-12">
            <label class="layui-form-label">结束电流</label>
            <div class="layui-input-block">
                <input type="text" name="endElectic" class="layui-input col-sm-10" autocomplete="off"  >
                <input type="text" disabled class="layui-input col-sm-2" placeholder="秒" >
            </div>
        </div>
        <div class="layui-form-item col-sm-12">
            <label class="layui-form-label">远离距离</label>
            <div class="layui-input-block">
                <input type="text" name="outDistance" class="layui-input col-sm-10" autocomplete="off"  >
                <input type="text" disabled class="layui-input col-sm-2" placeholder="厘米" >
            </div>
        </div>
        <div class="layui-form-item col-sm-12">
            <label class="layui-form-label">图像结束</label>
            <div class="layui-input-block">
                    <input type="text" name="imageEnd" class="layui-input col-sm-10" autocomplete="off"  >
                <input type="text" disabled class="layui-input col-sm-2" placeholder="流明" >
            </div>
        </div>
        <div class="layui-form-item col-sm-12">
            <label class="layui-form-label">重量结束</label>
            <div class="layui-input-block">
                <input type="text" name="weightEnd" class="layui-input col-sm-10" autocomplete="off"  >
                <input type="text" disabled class="layui-input col-sm-2" placeholder="千克" >
            </div>
        </div>
        <div class="layui-form-item col-sm-12">
            <label class="layui-form-label">误差率</label>
            <div class="layui-input-block">
                <input type="text" name="errorRate" class="layui-input col-sm-10" autocomplete="off"  >
                <input type="text" disabled class="layui-input col-sm-2" placeholder="%" >
            </div>
        </div>


        <div class="layui-form-item col-sm-12">
            <label class="layui-form-label">数据包间隔</label>
            <div class="layui-input-block">
                <input type="text" name="repeatInterval" class="layui-input col-sm-10" autocomplete="off"  >
                <input type="text" disabled class="layui-input col-sm-2" placeholder="秒" >
            </div>
        </div>

        <div class="layui-form-item col-sm-12">
            <label class="layui-form-label">保养预警时长</label>
            <div class="layui-input-block">
                <input type="text" name="maintainRemind" class="layui-input col-sm-10" autocomplete="off"  >
                <input type="text" disabled class="layui-input col-sm-2" placeholder="小时" >
            </div>
        </div>

        <div class="layui-form-item col-sm-12">
            <label class="layui-form-label">工作功率</label>
            <div class="layui-input-block">
                <input type="text" name="workPower" class="layui-input col-sm-10" autocomplete="off"  >
                <input type="text" disabled class="layui-input col-sm-2" placeholder="千瓦" >
            </div>
        </div>
        <div class="layui-form-item col-sm-12">
            <label class="layui-form-label">最大电流</label>
            <div class="layui-input-block">
                <input type="text" name="maxElectic" class="layui-input col-sm-10" autocomplete="off"  >
                <input type="text" disabled class="layui-input col-sm-2" placeholder="秒" >
            </div>
        </div>
        <div class="layui-form-item col-sm-12">
            <label class="layui-form-label">是否控制</label>
            <div class="layui-input-block"  >
                <select name="hardCloseFlag" lay-verify="required" lay-search="" >
                    <option >是</option>
                    <option >否</option>
                </select>
            </div>
        </div>

        <div class="layui-form-item col-sm-12 ">
            <input type="" style="border: 0;background-color: #ffffff" disabled class="layui-input-block">
        </div>


    </div>

    <div class="layui-row">
        <div class="col-xs-12" style="position: relative">
            <div class="layui-form-item" style="position: absolute; right: 150px; bottom: -70px;">
                <div class="layui-input-block" >
                    <button class="layui-btn" lay-submit="" lay-filter="submit">提交</button>
                    <button type="reset" class="layui-btn layui-btn-primary">重置</button>
                </div>
            </div>
        </div>
    </div>
</form>

<script>
    $("#machineNumber").val($.getUrlParam("machineNumber"));
    // $("#eqId").val($("input[ name='deviceCode' ]").val());
    var machineNumber = $.getUrlParam("machineNumber")
    var formData = {};
    renderMod = {
      bind: {
            selectItem: [
                {
                    elem: "#selectEmp",
                    cb: "/benefical/select/listSelectCols",
                    db: "/benefical/select/listSelect",
                    name: "dtdt",
                    key: "eq",
                    se:"/eq/eqSe",
                    data:formData,
                },

            ]
        },
        form:{
            val:{
                filter:"forms",
                get:{
                    url:"/deviceparameter/showOneLwxByLwyBh",
                    type:"POST",
                    data:{lwybh:machineNumber},
                },
            },
            submit:{
                form:{
                    url:"/deviceparameter/updateOneLwxByLwyBh",
                    type:"POST",
                    contentType: "application/json",
                    data:["machineNumber","eqId","deviceCode","inspectType","startElectic","inDistance","imageStart","weightStart","pECounting","heartTime","repairRemind","waitPower","voltage","maxCurrent","minCurrent","keepTime","endElectic","outDistance","imageEnd","weightEnd","errorRate","repeatInterval","maintainRemind","workPower","maxElectic"],
                    reload:"parent"
                },
                before:function(){
                      $("#deviceCode").val($("input[ name='eqId' ]").val());
                    return true;
                },
            }
        }
    };
</script>


</body>

</html>