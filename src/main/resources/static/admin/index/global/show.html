<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"/>
    <title>维修信息显示</title>
    <link rel="stylesheet" type="text/css" href="/static/admin/layui/css/layui.css"/>
    <link rel="stylesheet" type="text/css" href="/static/admin/css/admin.css"/>
    <script src="/static/admin/js/jquery-3.3.1.min.js"></script>
    <!--[if IE 8]>
    <script type="text/javascript" src="/static/admin/js/jquery-1.11.3.min.js"></script>
    <![endif]-->
    <script src="/static/admin/js/basic.js"></script>
    <style>
        html,body{
            min-width: 1510px;
            height: 100%;
            overflow: hidden;
        }
        img{
            margin-top: 15px;
        }
        h1{
            font-size: 4em;
            font-weight: 800;
            line-height: 2;
            text-align: center;
            letter-spacing: 20px;
            color:#fff;
            text-shadow:4px 4px 0 #c4c4c4
        }
        h2{
            text-align: center;
        }
        .shows_head th{
            text-align: center;
            font-weight:600;
            font-size: 19px;
            width:15%
        }
        .showTable td{
            height:40px;
            text-align: center;
            font-size: 17px;
            width:15.2%
        }
        .showLogo{
            width: 100%;
            height: 60px;
        }
        .showBg{
            height: 15%;
            background: #56CCF2;  /* fallback for old browsers */
            background: -webkit-linear-gradient(to bottom, #2F80ED, #56CCF2);  /* Chrome 10-25, Safari 5.1-6 */
            background: linear-gradient(to bottom, #2F80ED, #56CCF2); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
        }
        .showMain{
            height: 85%;
        }
        .showMsg{
            margin-top: 10px;
            padding-right: 0;
        }
        .showMsg li{
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 5px;
            margin-bottom:10px;
        }
        .showTitle {
            width: 100%;
            height: 30px;
            display: block;
            border-bottom: 1px dotted #ccc;
            font-size: 20px;
            font-weight: 600;
        }
        .showNum{
            font-size:21px;
            font-weight: 600;
        }
        .showTip{
            color:#000;
            font-size: 14px;
        }
        .c_red{
            color:#f10214;
        }
        .c_org{
            color: #ff940f;
        }
        .c_gre{
            color:#00B83F;
        }
        .c_blu{
            color:#00b7ee;
        }
        .showTab{
            height: 100%;
        }
        .maxCol{
            max-width: 300px;
            min-width: 200px;
        }
        .shows_head{
            height:6%;
        }
        .shows_body{
            height:91%;
            overflow-y: auto;
        }
        .showTable{
            margin:0;
        }
        .layui-table-mend, .layui-table-patch, .layui-table-tool, .layui-table-total, .layui-table-total tr, .layui-table[lay-even] tr:nth-child(even){
            color:#ce8e2e;
        }
    </style>
</head>

<body>
<div class="layui-row showBg">
    <div class="col-xs-2">
        <img src="/static/admin/images/yhd.png" class="showLogo" alt="LOGO">
    </div>
    <div class="col-xs-8">
        <h1 id="title">维修信息</h1>
    </div>
    <div class="col-xs-2">
        <div class="time">
            25:25:00
        </div>
    </div>
</div>
<div class="layui-row showMain">
    <div class="col-xs-1 showMsg" style="padding-right: 0;">
        <ul>
            <li>
                <span class="showTitle">科室：</span>
                <span class="showNum">
                    <span class="f_ks">0</span>
                </span>
            </li>
            <li>
                <span class="showTitle">设备：</span>
                <span class="showNum">
                    <span class="wxEqCount">0</span>
                    <span class="showTip">(台)</span>
                </span>
            </li>
            <li>
                <span class="showTitle">受理：</span>
                <span class="showNum">
                    <span class="slEqCount">0</span>
                    <span class="showTip">(台)</span>
                </span>
            </li>
            <li>
                <span class="showTitle">未受理：</span>
                <span class="showNum c_blu">
                    <span class="wslEqCount">0</span>
                    <span class="showTip">(台)</span>
                </span>
            </li>
            <li>
                <span class="showTitle">高紧急：</span>
                <span class="showNum c_red">
                    <span class="gjjxEqCount">0</span>
                    <span class="showTip">(台)</span>
                </span>
            </li>
            <li>
                <span class="showTitle">中紧急：</span>
                <span class="showNum c_org">
                    <span class="zjjxEqCount">0</span>
                    <span class="showTip">(台)</span>
                </span>
            </li>
            <li>
                <span class="showTitle">低紧急：</span>
                <span class="showNum c_gre">
                    <span class="djjxEqCount">0</span>
                    <span class="showTip">(台)</span>
                </span>
            </li>
            <li>
                <span class="showTitle">执行人：</span>
                <span class="showNum">
                    <span class="f_zxr">0</span>
                </span>
            </li>
        </ul>
    </div>
    <div class="col-xs-11 showTab">
        <div class="shows_head">
            <table class="layui-table" lay-even  lay-skin="line">
                <thead>
                <tr>
                    <th>部门</th>
                    <th>设备</th>
                    <th class="maxCol">故障现象</th>
                    <th>报修时间</th>
                    <th>执行人</th>
                    <th>紧急性</th>
                    <th>当前状况</th>
                </tr>
                </thead>
            </table>
        </div>
        <div class="shows_body">
            <table class="showTable layui-table" lay-even  lay-skin="line">
                <tbody>

                </tbody>
            </table>
        </div>
    </div>
</div>

</body>
<script>
    $.ajax({
        url:"/baoxiu/wxInfo",
        type:"GET",
        success:function(res){
            if(res.code === 0){
                for(var name in res.data){
                    if(res.data.hasOwnProperty(name)){
                        var $sp = $("span ."+name);
                        if($sp.length > 0){
                            $sp.text(res.data[name]);
                        }
                    }
                }

                var $tb = $(".showTable tbody"),list = res.data["wxInfoList"];
                if(list){
                    for(var i=0;i<list.length;i++){
                        $tb.append(
                            $("<tr>").append(
                                $("<td>").text(list[i]["bmName"])//部门
                            ).append(
                                $("<td>").text(list[i]["eqName"])//设备
                            ).append(
                                $("<td>").attr("class","maxCol").text(list[i]["gzxx"])//故障现象
                            ).append(
                                $("<td>").text(list[i]["bxTime"])//报修时间
                            ).append(
                                $("<td>").text(list[i]["zxrName"])//执行人
                            ).append(
                                $("<td>").text(list[i]["jjxStatusString"])//紧急性
                            ).append(
                                $("<td>").text(list[i]["bxStatusString"])//当前状况
                            )
                        )
                    }
                }
            }
        }
    })
</script>
</html>