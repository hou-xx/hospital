<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"/>
    <title>配件字典新增</title>
    <link rel="stylesheet" type="text/css" href="/static/admin/layui/css/layui.css"/>
    <link rel="stylesheet" type="text/css" href="/static/admin/css/admin.css"/>

    <script src="/static/admin/js/jquery-3.3.1.min.js"></script>
    <!--[if IE 8]>
    <script type="text/javascript" src="/static/admin/js/jquery-1.11.3.min.js"></script>
    <![endif]-->
    <script src="/static/admin/js/basic.js"></script>
    <style>
        .layui-form-label{
            padding: 8px 5px!important;
        }
        .layui-form-label{
            width:120px;
        }
        .layui-form-item{
            margin-bottom:30px;
        }

    </style>
</head>

<body>
<form class="layui-form layui-form-pane" action="" >
    <div class="layui-row">
        <div class="col-xs-12 col-sm-6" style="margin-top: 20px;">
            <div class="layui-form-item">
                <label class="layui-form-label">配件分类<span class="sign">*</span></label>
                <div class="layui-input-block">
                    <select lay-verify="required" name="pjfl">
                        <option value="分类">分类</option>
                        <option value="维材-医疗维修">维材-医疗维修</option>
                        <option value="维材-办公维修">维材-办公维修</option>
                        <option value="维材-普通维修">维材-普通维修</option>
                        <option value="维材-家具维修">维材-家具维修</option>
                        <option value="维材-其他">维材-其他</option>
                    </select>
                </div>
            </div>
            <div class="layui-form-item" pane>
                <label class="layui-form-label" >设备名称</label>
                <div class="layui-input-block">
                    <input type="text" name="eqId" placeholder="请选择" autocomplete="off" disabled class="layui-input" style="height:46px;padding-left:60px;">
                    <button class="layui-btn layui-btn-normal layui-btn-sm PoAb0xx0" id="selectData">选择</button>
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">配件名称</label>
                <div class="layui-input-block">
                    <input type="text" name="pjName" class="layui-input" autocomplete="off" lay-verify="required" placeholder="请输入">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">配件编号</label>
                <div class="layui-input-block">
                    <input type="text" name="pjbh" class="layui-input" autocomplete="off" lay-verify="required|number" placeholder="请输入">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">规格型号</label>
                <div class="layui-input-block">
                    <input type="text" name="pjGgxh" class="layui-input" autocomplete="off" lay-verify="required" placeholder="请输入">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">包装单位</label>
                <div class="layui-input-block">
                    <select name="pjBzdw" lay-filter="pjBzdw">
                    </select>
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">产品注册证号</label>
                <div class="layui-input-block">
                    <input type="text" name="pjZczh" class="layui-input"  autocomplete="off"  ay-verify="required|number" placeholder="请输入">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">注册证到期日期</label>
                <div class="layui-input-block">
                    <input type="text"  name="pjZczDqTime" class="layui-input"  autocomplete="off" id="date">
                </div>
            </div>
        </div>

        <div class="col-xs-12 col-sm-6" style="margin-top: 20px;">
            <div class="layui-form-item" pane>
                <label class="layui-form-label">生产企业</label>
                <div class="layui-input-block">
                    <input type="text" name="sbcsId" placeholder="请选择" autocomplete="off" disabled class="layui-input" style="height:46px;padding-left:60px;">
                    <button class="layui-btn layui-btn-normal layui-btn-sm PoAb0xx0" id="selectScqy">选择</button>
                </div>
            </div>
            <div class="layui-form-item" pane>
                <label class="layui-form-label">供货商</label>
                <div class="layui-input-block">
                    <input type="text" name="sbcsId1" placeholder="请选择" autocomplete="off" disabled class="layui-input" style="height:46px;padding-left:60px;">
                    <button class="layui-btn layui-btn-normal layui-btn-sm PoAb0xx0" id="selectGhs">选择</button>
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">中标价</label>
                <div class="layui-input-block">
                    <input type="text" name="zbPrice" class="layui-input" autocomplete="off" lay-verify="required" placeholder="请输入">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">中标日期</label>
                <div class="layui-input-block">
                    <input type="text" name="zbTime" class="layui-input" autocomplete="off" id="zdate">
                </div>
            </div>
        </div>

    </div>

    <div class="layui-row">
        <div class="layui-form-item">
            <div class="layui-input-block">
                <button class="layui-btn" lay-submit  lay-filter="submit">立即提交</button>
            </div>
        </div>
    </div>
</form>




<script>
    var formData = {};
    renderMod={
        form:{
            date:[
                {
                    elem:'#zdate'
                    ,value:today0
                },
                {
                    elem: '#date'
                    , value: today0
                }
            ],
            submit: {
                filter: "submit",//可以不写
                before:function(param){
                    console.log("formD = ",formData);
                    return param = {
                        1:formData.eq[0].eqId,
                        2:formData.scqy[0].sbcsId,
                        3:formData.ghs[0].sbcsId1
                    }
                },
                form: {
                    url: "/security/pjzd/insertFwPjzd",
                    type: "POST",
                    contentType:"application/json",
                    data:["pjfl","pjName","pjbh","pjGgxh","pjBzdw","pjZczh","zbPrice","zbTime","pjZczDqTime"],
                    param:{
                        1:"sbId",
                        2:"pjScqyId",
                        3:"pjGhsId"
                    }
                }//表单提交函数
            },
            val:{
                filter:"forms",
                select:[
                    {
                        filter:"pjBzdw",
                        ids:"eqJldwName",
                        text:"eqJldwName",
                        url:"/eqdict/jldw"
                    }
                ]
            }

        },
        bind: {
            selectItem: [{
                elem: "#selectData",
                cb: "/benefical/select/listSelectCols",
                db: "/benefical/select/listSelect",
                name: "dtdt",
                key: "eq",
                data:formData
            },{
                elem: "#selectScqy",
                cb: "/supervise/csgl/eqcsTitles",
                db: "/supervise/csgl/listEqcsByX2",
                name: "dtdt",
                key: "scqy",
                data:formData
            },{
                elem: "#selectGhs",
                cb: "/supervise/csgl/eqcsTitles",
                db: "/supervise/csgl/listEqcsByX1",
                name: "dtdt",
                key: "ghs",
                data:formData
            }]
        }

    }
</script>
</body>

</html>